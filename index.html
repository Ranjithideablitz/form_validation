<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wegofin auth</title>
    <link rel="stylesheet" href="style.css">
    <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script> -->
    <!-- <script>
        $(document).ready(function () {
            $('#submit').click(function (e) {
                e.preventDefault();
                const password = $('#pswd').val();
                const email = $('#email').val();
 
                if (password === '' || email === '') {
                    $('#invalid_email').text("Input Fields can not be Empty!!");
                    $('#invalid_email').css("color", "red");
                    return false;
                }
                else if (IsEmail(email) === false) {
                    $('#invalid_email').text("Entered Email is not Valid!!");
                    $('#invalid_email').css("color", "red");
                    return false;
                }
                else if (IsPassword(pswd) === false) {
                    $('#invalid_email').text("Entered Email is not Valid!!");
                    $('#invalid_email').css("color", "red");
                    return false;
                }
                else{
                    $('#invalid_email').text("Entered Email is Valid!!");
                    $('#invalid_email').css("color", "green");
                    return true;
                }
                return false;
            });
        });
 
        function IsEmail(email) {
            const regex =
/^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;
            if (!regex.test(email)) {
                return false;
            }
            else {
                return true;
            }
        }
        function IsPassword(pswd) {
            var lowercaseLetters = /[a-z]/g;
            if ($(this).val().match(lowercaseLetters)) {
                letter.classList.remove("invalid");
                letter.classList.add("valid");
            } else {
                letter.classList.remove("valid");
                letter.classList.add("invalid");
            }

            var upperCaseLetters = /[A-Z]/g;
            if ($(this).val().match(upperCaseLetters)) {
                capital.classList.remove("invalid");
                capital.classList.add("valid");
            } else {
                capital.classList.remove("valid");
                capital.classList.add("invalid");
            }

            var numbers = /[0-9]/g;
            if ($(this).val().match(numbers)) {
                number.classList.remove("invalid");
                number.classList.add("valid");
            } else {
                number.classList.remove("valid");email
                number.classList.add("invalid");
            }

            if ($(this).val().length >= 8) {
                length.classList.remove("invalid");
                length.classList.add("valid");
            } else {
                length.classList.remove("valid");
                length.classList.add("invalid");
            }
        }
    </script> -->
    <style>
        
    </style>
     
</head>
<body>
        <!-- <h1 style="color:green">GeeksforGeeks</h1> -->
 
        <div class="container">
            <form action="" method="post" id="form" class="form">
                <div class="form-group">
                    <label for="username">User Name</label>
                    <input id="username" data-name="user name" type="text" placeholder="Please enter your name">
                    <p>Error Message</p>
                </div>
                <div class="form-group">
                    <label for="email">Email</label>
                    <input id="email" data-name="email" type="text" placeholder="Please enter your email">
                    <p>Error Message</p>
                </div>
                <div class="form-group">
                    <label for="password">Password</label>
                    <input id="password" data-name="password" type="password" placeholder="Please enter your password">
                    <p>Error Message</p>
                </div>
                <div class="form-group">
                    <label for="password2">Confirm Password</label>
                    <input id="password2" data-name="password2" type="password" placeholder="Enter your confirm password">
                    <p>Error Message</p>
                </div>
     
                <br />
                <button type="submit">Submit</button>
            </form>
        </div>

        <script>
            const form = document.getElementById("form");
            const username = document.getElementById("username");
            const email = document.getElementById("email");
            const password = document.getElementById("password");
            const password2 = document.getElementById("password2");

            String.prototype.isEmail = function() {
                return !!this.match(/^\w+@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/);
            }

            String.prototype.isAlpha = function() {
                return !!this.match(/^[a-zA-Z_]*$/);
            }

            function checkRequired(inputs){
                inputs.forEach(input => {
                    if(input.value.trim()===""){
                        //Error
                        errorInput(input, `${getName(input)} is Required`);
                    }
                    else{
                        //Success
                        successInput(input);
                    }
                });
            }

            function getName(input) {
                // return input.id;
                return input.getAttribute("data-name");
            }

            function errorInput(input, message){
                const formGroup = input.parentElement;
                formGroup.className = "form-group error";
                const p = formGroup.querySelector('p');
                p.innerHTML = message;
            }
            function successInput(input, message){
                const formGroup = input.parentElement;
                formGroup.className = "form-group success";
                const p = formGroup.querySelector('p');
                p.innerHTML = "";
            }
            function checkLength(input, min, max){
                const data = input.value.trim().length;
                if(data < min){
                    errorInput(input, `${getName(input)} must be atleast greater than ${min} characters`);
                }
                else if(data > max){
                    errorInput(input, `${getName(input)} must be atleast lesser than ${max} characters`);
                }
                else{
                    successInput(input);
                }   
            }
            function checkConfirmPassword(password, password2){
                if(password.value != password2.value){
                    errorInput(password2, `${getName(password2)} does not match`);
                }
            }

            function checkEmail(input){
                if(!input.value.trim().isEmail()){
                    errorInput(input, `This is not an valid email address`);
                }
            }

            function checkAlpha(input){
                if(!input.value.trim().isAlpha()){
                    errorInput(input, `${getName(input)} must be alphabets`);
                }
            }

            form.addEventListener("submit", function(e) {
                e.preventDefault();
                checkRequired([username, email, password, password2]);
                checkLength(username, 5, 10);
                checkLength(password, 5, 10);
                checkConfirmPassword(password, password2);
                checkEmail(email);
                checkAlpha(username);
            })
        </script>
</body>
</html>